
# coding: utf-8

# In[ ]:


from urllib.request import urlopen
import csv
from bs4 import BeautifulSoup

NAMES = ' '
LINKS = ' '

def get_selection():
    global NAMES
    global LINKS

url = "https://soundcloud.com/charts/top?genre=world&all-countries"
page = urlopen(url)
soup = BeautifulSoup(page, 'lxml')
chart = soup.find(id="app")
f = csv.writer(open('chart_list_world.csv','w'))
f.writerow (['Name','Link'])
chart1 = chart.find('section', class_='sounds')
chart_list = chart1.find_all('a')

def show_selection():
    for chart_item in chart_list:
        names = chart_item.contents[0]
        links = 'https://soundcloud.com/charts/top?genre=world&all-countries' + chart_item.get('href')
        print(NAMES,LINKS)
        f.writerow([NAMES.encode("utf-8"),LINKS.encode("utf-8")])

def cleaned():
    del NAMES, LINKS

